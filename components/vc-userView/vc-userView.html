<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->


<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../vc-userSimpleEdit/vc-userSimpleEdit.html">
<link rel="import" href="../vc-userEmailEdit/vc-userEmailEdit.html">
<link rel="import" href="../vc-userPasswordEdit/vc-userPasswordEdit.html">
<link rel="import" href="../vc-userPhoneEdit/vc-userPhoneEdit.html">
<link rel="import" href="../vc-userLoginButton/vc-userLoginButton.html">
<link rel="import" href="../vc-userLogoutButton/vc-userLogoutButton.html">
<link rel="import" href="../vc-userCreateAccountButton/vc-userCreateAccountButton.html">
<link rel="import" href="../vc-userValidateAccountButton/vc-userValidateAccountButton.html">
<link rel="import" href="../vc-userBackButton/vc-userBackButton.html">
<link rel="import" href="../vc-user-main-panel-button/vc-user-main-panel-button.html">

<link rel="import" href="vc-userViewStyle.html">
<link rel="import" href="../../bower_components/paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-styles/demo-pages.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">



<dom-module id="vc-userView">
  <template>

    <style include="vc-userViewStyle"></style>

    <!-- Login panel -->
    <div class="panelContainer" id="loginPanelContainer">
      <paper-drawer-panel id="paperDrawerPanelLogin" drawer-width="auto" disable-swipe="true" on-iron-select="_getLoginWidth" right-drawer
        force-narrow>

        <div drawer id="loginDrawer">
          <div class="circle2" id="crappyFocus" tabindex="0"></div>

          <div class="card" id="cardLogin">
            <div class="userViewColumn">
              <vc-userEmailEdit id="userViewLoginTxtEmail" email="{{useremail}}" emailerror="{{useremailerror}}"></vc-userEmailEdit>
              <vc-userPasswordEdit password="{{userpassword}}" passworderror="{{userpassworderror}}"></vc-userPasswordEdit>
            </div>
            <div class="userViewColumn">
              <vc-userLoginButton id="userLoginButton" email="[[useremail]]" password="[[userpassword]]" emailerror="[[useremailerror]]"
                passworderror="[[userpassworderror]]"></vc-userLoginButton>
              <vc-userCreateAccountButton id="userCreateAccountButton"></vc-userCreateAccountButton>
            </div>
          </div>
        </div>

        <div main>
          <vc-user-main-panel-button sliderwidth="[[loginwidth]]" usermainpanelicon="[[unloggedicon]]" opened="[[loginopened]]" paper-drawer-toggle></vc-user-main-panel-button>
        </div>

      </paper-drawer-panel>
    </div>


    <!-- Logout panel -->
    <div class="panelContainer" id="logoutPanelContainer">
      <paper-drawer-panel id="paperDrawerPanelLogout" drawer-width="auto" disable-swipe="true" on-iron-select="_getLogoutWidth"
        right-drawer force-narrow>

        <div drawer id="logoutDrawer">
          <div class="circle2" id="crappyFocus" tabindex="0"></div>
          <div class="card" id="cardLogout">
            <div class="userViewColumn">
              <vc-userLogoutButton id="userLogoutButton1"></vc-userLogoutButton>
            </div>
          </div>
        </div>

        <div main>
          <div>
            <vc-user-main-panel-button sliderwidth="[[logoutwidth]]" usermainpanelicon="[[loggedicon]]" opened="[[logoutopened]]" paper-drawer-toggle></vc-user-main-panel-button>

          </div>
        </div>

      </paper-drawer-panel>
    </div>


    <!-- Account creation panel -->
    <div class="panelContainer" id="createAccountPanelContainer">
      <paper-drawer-panel id="paperDrawerPanelCreateAccount" drawer-width="auto" disable-swipe="true" on-iron-select="_getCreateAccountWidth"
        right-drawer force-narrow>

        <div drawer>
          <div class="circle2" id="crappyFocus" tabindex="0"></div>

          <div class="card" id="cardCreateAccount">
            <div class="userViewColumn">
              <vc-userEmailEdit email="{{useremail}}" emailerror="{{useremailerror}}"></vc-userEmailEdit>
              <vc-userPasswordEdit password="{{userpassword}}" passworderror="{{userpassworderror}}"></vc-userPasswordEdit>
            </div>
            <div class="userViewColumn">
              <vc-userSimpleEdit simplelabel="Pseudonyme" simplevalue="{{usernickname}}" simpleerror="{{usernicknameerror}}"></vc-userSimpleEdit>
              <vc-userSimpleEdit simplelabel="URL Icône ( 128px x 128px )" simplevalue="{{usericon}}" simpleerror="{{usericonerror}}"></vc-userSimpleEdit>
              <vc-userPhoneEdit simplelabel="N° tél." simplevalue="{{userphonenumber}}" phonenumbererror="{{userphonenumbererror}}"></vc-userPhoneEdit>
            </div>
            <div class="userViewColumn">
              <vc-userValidateAccountButton id="userValidateAccountButton" emailerror="[[useremailerror]]" passworderror="[[userpassworderror]]"
                nicknameerror="[[usernicknameerror]]" iconerror="[[usericonerror]]" phonenumbererror="[[userphonenumbererror]]"></vc-userValidateAccountButton>
              <vc-userBackButton id="userBackButton"></vc-userBackButton>
            </div>
          </div>
        </div>

        <div main>
          <div>
            <vc-user-main-panel-button sliderwidth="[[createaccountwidth]]" usermainpanelicon="[[unloggedicon]]" opened="[[createaccountopened]]"
              paper-drawer-toggle></vc-user-main-panel-button>
          </div>
        </div>

      </paper-drawer-panel>
    </div>


    <script>
      (function (global) {
        'use strict';
        var DRAWER_ATTR = 'right-drawer';
        var pdp = document.getElementById('paperDrawerPanel');
        global.flipDrawer = function () {
          if (pdp.hasAttribute(DRAWER_ATTR)) {
            pdp.removeAttribute(DRAWER_ATTR);
          } else {
            pdp.setAttribute(DRAWER_ATTR, '');
          }
        }
      }(this));
    </script>

  </template>

  <script src=vc-userView.js></script>
</dom-module>